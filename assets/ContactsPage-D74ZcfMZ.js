import{b as w,j as s,c as K,u as C,d as U,R as v,e as Y,f as H,g as J}from"./index-C3SEHbgI.js";import{F as Q,c as X,a as Z,b as S,E as P,d as E}from"./index.esm-o43K8_kJ.js";function ee(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function te(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ne(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var z=e=>Array.isArray(e)?e:[e];function re(e){const t=Array.isArray(e[0])?e[0]:e;return ne(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function se(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var oe=class{constructor(e){this.value=e}deref(){return this.value}},ae=typeof WeakRef<"u"?WeakRef:oe,ce=0,F=1;function g(){return{s:ce,v:void 0,o:null,p:null}}function M(e,t={}){let n=g();const{resultEqualityCheck:r}=t;let o,c=0;function i(){let a=n;const{length:u}=arguments;for(let d=0,j=u;d<j;d++){const f=arguments[d];if(typeof f=="function"||typeof f=="object"&&f!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const y=p.get(f);y===void 0?(a=g(),p.set(f,a)):a=y}else{let p=a.p;p===null&&(a.p=p=new Map);const y=p.get(f);y===void 0?(a=g(),p.set(f,a)):a=y}}const m=a;let l;if(a.s===F)l=a.v;else if(l=e.apply(null,arguments),c++,r){const d=o?.deref?.()??o;d!=null&&r(d,l)&&(l=d,c!==0&&c--),o=typeof l=="object"&&l!==null||typeof l=="function"?new ae(l):l}return m.s=F,m.v=l,l}return i.clearCache=()=>{n=g(),i.resetResultsCount()},i.resultsCount=()=>c,i.resetResultsCount=()=>{c=0},i}function ie(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let c=0,i=0,a,u={},m=o.pop();typeof m=="object"&&(u=m,m=o.pop()),ee(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const l={...n,...u},{memoize:d,memoizeOptions:j=[],argsMemoize:f=M,argsMemoizeOptions:p=[]}=l,y=z(j),q=z(p),_=re(o),R=d(function(){return c++,m.apply(null,arguments)},...y),B=f(function(){i++;const V=se(_,arguments);return a=R.apply(null,V),a},...q);return Object.assign(B,{resultFunc:m,memoizedResultFunc:R,dependencies:_,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>a,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var D=ie(M),le=Object.assign((e,t=D)=>{te(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(c=>e[c]);return t(r,(...c)=>c.reduce((i,a,u)=>(i[n[u]]=a,i),{}))},{withTypes:()=>le});const A=e=>e.filters.name,ue=e=>e.contacts.items,pe=e=>e.contacts.loading,me=D([ue,A],(e,t)=>e.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())||n.number.includes(t))),de="_form_1r298_1",fe="_label_1r298_21",he="_input_1r298_37",be="_btn_1r298_65",h={form:de,label:fe,input:he,btn:be},ye=X().shape({name:E().min(3,"Too short!").max(50,"Too long!").required("Required"),number:E().min(3,"Too short!").max(50,"Too long!").required("Required")}),ve=()=>{const e=w(),t=(n,r)=>{e(K(n)),r.resetForm()};return s.jsx(Q,{initialValues:{name:"",number:""},validationSchema:ye,onSubmit:t,children:s.jsxs(Z,{className:h.form,children:[s.jsxs("div",{className:h.fieldGroup,children:[s.jsx("label",{className:h.label,children:"Name"}),s.jsx(S,{type:"text",name:"name",className:h.input}),s.jsx(P,{name:"name",component:"span",className:h.error})]}),s.jsxs("div",{className:h.fieldGroup,children:[s.jsx("label",{className:h.label,children:"Number"}),s.jsx(S,{type:"text",name:"number",className:h.input}),s.jsx(P,{name:"number",component:"span",className:h.error})]}),s.jsx("button",{type:"submit",className:h.btn,children:"Add Contact"})]})})},je="_container_1ol5h_1",ge="_label_1ol5h_9",xe="_input_1ol5h_21",O={container:je,label:ge,input:xe},Ne=()=>{const e=w(),t=C(A);return s.jsxs("div",{className:O.container,children:[s.jsx("p",{className:O.label,children:"Find contacts by name or number"}),s.jsx("input",{className:O.input,type:"text",value:t,onChange:n=>e(U(n.target.value)),placeholder:"Search..."})]})};var W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T=v.createContext&&v.createContext(W),we=["attr","size","title"];function Oe(e,t){if(e==null)return{};var n=Ce(e,t),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)r=c[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(r){_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _e(e,t,n){return t=Re(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){var t=Se(e,"string");return typeof t=="symbol"?t:t+""}function Se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k(e){return e&&e.map((t,n)=>v.createElement(t.tag,N({key:n},t.attr),k(t.child)))}function L(e){return t=>v.createElement(Pe,x({attr:N({},e.attr)},t),k(e.child))}function Pe(e){var t=n=>{var{attr:r,size:o,title:c}=e,i=Oe(e,we),a=o||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),v.createElement("svg",x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:u,style:N(N({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),c&&v.createElement("title",null,c),e.children)};return T!==void 0?v.createElement(T.Consumer,null,n=>t(n)):t(W)}function Ee(e){return L({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(e)}function ze(e){return L({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const b={},Fe=({data:{id:e,name:t,number:n}})=>{const r=w(),o=()=>{r(Y(e))};return s.jsxs("div",{className:b.container,children:[s.jsxs("div",{className:b.infoWrapper,children:[s.jsxs("div",{className:b.infoItem,children:[s.jsx(ze,{className:b.icon}),s.jsx("p",{className:b.text,children:t})]}),s.jsxs("div",{className:b.infoItem,children:[s.jsx(Ee,{className:b.icon}),s.jsx("p",{className:b.text,children:n})]})]}),s.jsx("button",{className:b.btn,onClick:o,type:"button",children:"Delete"})]})},Te="_list_1b1ym_1",$e="_item_1b1ym_23",I={list:Te,item:$e},Ie=()=>{const e=C(me);return s.jsx("ul",{className:I.list,children:e.map(t=>s.jsx("li",{className:I.item,children:s.jsx(Fe,{data:t})},t.id))})},Ae=()=>{const e=w(),t=C(pe);return H.useEffect(()=>{e(J())},[e]),s.jsxs("div",{children:[s.jsx("h1",{children:"Your Contacts"}),s.jsx(ve,{}),s.jsx(Ne,{}),t?s.jsx("p",{children:"Loading contacts..."}):s.jsx(Ie,{})]})};export{Ae as default};
